<p-card class="card">
  <ng-template #title>
    Rasmlar kutubxonasi
  </ng-template>

  <ng-template #subtitle>
    Barcha ob'ektlaringiz tasvirlarini boshqaring.
    <br />
    Yuklash uchun rasmlarni ushbu sahifaga sudrab tashlang yoki to'g'ridan-to'g'ri qurilmangizdan yuklang.
  </ng-template>

  <!-- Square-style drag & drop -->
  <div
    class="relative flex flex-col items-center justify-center border-2 border-dashed rounded-2xl p-20 text-center transition-all duration-200"
    [class.border-blue-500]="isDraggingOver"
    [class.bg-blue-50]="isDraggingOver"
    (click)="fileInput.click()"
    (dragover)="onDragOver($event)"
    (dragleave)="onDragLeave($event)"
    (drop)="onDrop($event)"
  >
    <i class="pi pi-images text-4xl text-gray-400 mb-3"></i>
    <p class="text-lg font-semibold text-gray-600">
      Rasmlarni koâ€˜tarib tashlang yoki yuklang
    </p>
    <button
      type="button"
      class="mt-3 text-blue-600 underline"
      (click)="fileInput.click(); $event.stopPropagation()"
    >
      Fayl tanlash
    </button>

    <input
      type="file"
      #fileInput
      (change)="onFilesAdded($event)"
      multiple
      accept="image/*"
      class="hidden"
    />
  </div>

  <!-- Galereya -->
  <div class="mt-6 flex flex-wrap gap-3">
    <div
      *ngFor="let img of images"
      class="relative w-24 h-24 rounded-lg overflow-hidden border"
    >
      <img [src]="img.src" class="object-cover w-full h-full" />
      <button
        type="button"
        class="absolute top-1 right-1 bg-black/60 text-white rounded-full w-5 h-5 flex items-center justify-center"
        (click)="removeImage(img)"
      >
        <i class="pi pi-times text-xs"></i>
      </button>
    </div>
  </div>
</p-card>
